---
general:
  hostname: localhost
  interval: 10
  debug: false

mysql:
  dsn: root@tcp(127.0.0.1:3306)/
  inputs:
    indexes: true
    overflow: true
    slave: true
    status: true
    tables: true
    variables: true
    slowlog:
      enable: true
      log_path: /var/lib/mysql/slow.log
      buffer_size: 100
      buffer_timeout: 60
    auditlog:
      enable: true
      format: xml-old
      log_path: /var/lib/mysql/audit.log
      buffer_size: 100
      buffer_timeout: 60
  alerts:
    readonly:
      enable: true
      duration: 30
    replication:
      enable: false
      warning: 10
      critical: 60
      duration: 30
    connections:
      enable: true
      warning: 70
      critical: 90
      duration: 30

proxysql:
  enable: true
  dsn: radminuser:radminpass@tcp(127.0.0.1:6032)/

clickhouse:
  enable: true
  dsn: http://127.0.0.1:8123/?database=zenit
# dsn: http://127.0.0.1:8123/?user=admin&password=admin&database=zenit

prometheus:
  enable: true
  textfile: /var/tmp/zenit.prom

slack:
  enable: true
  token: xxx/yyy/zzz
  channel: alerts

os:
  inputs:
    cpu: true
    disk: true
    limits: true
    mem: true
    net: true
  alerts:
    cpu:
      enable: true
      warning: 30
      critical: 60
      duration: 30
    disk:
      enable: true
      warning: 50
      critical: 75
      duration: 30
    mem:
      enable: true
      warning: 80
      critical: 95
      duration: 30

process:
  inputs:
    pt_kill: true
    pt_deadlock_logger: true
    pt_slave_delay: true
